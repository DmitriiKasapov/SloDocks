# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–ª–æ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
php artisan migrate
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã:
- `materials` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- `material_blocks` ‚Äî –±–ª–æ–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### 2. –û–±–Ω–æ–≤–∏—Ç—å autoload

```bash
composer dump-autoload
```

### 3. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à

```bash
php artisan config:clear
php artisan cache:clear
php artisan view:clear
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É Filament ‚Üí –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Ä–∞–∑–¥–µ–ª **"–ú–∞—Ç–µ—Ä–∏–∞–ª—ã"**

## –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞

### –í –∞–¥–º–∏–Ω–∫–µ

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ú–∞—Ç–µ—Ä–∏–∞–ª—ã** ‚Üí **–°–æ–∑–¥–∞—Ç—å**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —Ä–µ–±—ë–Ω–∫–∞ –≤ —à–∫–æ–ª—É"
   - Slug: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è
   - –ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: "–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è..."
   - –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —É—Å–ª—É–≥–µ: –≤—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –°—Ç–∞—Ç—É—Å: "–ß–µ—Ä–Ω–æ–≤–∏–∫"

3. –î–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫–∏:
   - **Intro**: —Ç–µ–∫—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
   - **Process Overview**: –∫—Ä–∞—Ç–∫–∏–π —Å–ø–∏—Å–æ–∫ —à–∞–≥–æ–≤
   - **Steps**: –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
   - **Tip**: –≤–∞–∂–Ω—ã–π —Å–æ–≤–µ—Ç
   - **Help CTA**: –±–ª–æ–∫ –ø–æ–º–æ—â–∏

4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

5. –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –Ω–∞ **"–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ"**

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ (–¥–ª—è —Å–∏–¥–µ—Ä–∞)

```php
use App\Models\Material;
use App\Models\MaterialBlock;

$material = Material::create([
    'title' => '–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —Ä–µ–±—ë–Ω–∫–∞ –≤ —à–∫–æ–ª—É',
    'slug' => 'school-enrollment',
    'subtitle' => '–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø–∏—Å–∏ —Ä–µ–±—ë–Ω–∫–∞ –≤ —Å–ª–æ–≤–µ–Ω—Å–∫—É—é —à–∫–æ–ª—É',
    'service_id' => 1, // optional
    'status' => 'published',
]);

// Intro block
MaterialBlock::create([
    'material_id' => $material->id,
    'type' => 'intro',
    'content' => [
        'text' => '–ü–æ–ª–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏',
        'badge' => '–ê–∫—Ç—É–∞–ª—å–Ω–æ –Ω–∞ 2026',
    ],
    'order' => 0,
]);

// Process Overview block
MaterialBlock::create([
    'material_id' => $material->id,
    'type' => 'process_overview',
    'content' => [
        'steps' => [
            ['step' => '–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã'],
            ['step' => '–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —à–∫–æ–ª—É'],
            ['step' => '–ó–∞–ø–∏—Å–∞—Ç—å —Ä–µ–±—ë–Ω–∫–∞'],
        ],
    ],
    'order' => 1,
]);

// Steps block
MaterialBlock::create([
    'material_id' => $material->id,
    'type' => 'steps',
    'content' => [
        'steps' => [
            [
                'number' => 1,
                'title' => '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤',
                'description' => '<p>–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –ø—Ä–æ—Ü–µ—Å—Å–∞...</p>',
                'items' => [
                    ['item' => '–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏'],
                    ['item' => '–°–ø—Ä–∞–≤–∫–∞ –æ –ø—Ä–∏–≤–∏–≤–∫–∞—Ö'],
                ],
            ],
        ],
    ],
    'order' => 2,
]);

// Tip block
MaterialBlock::create([
    'material_id' => $material->id,
    'type' => 'tip',
    'content' => [
        'level' => 'info',
        'text' => '<p>–®–∫–æ–ª–∞ –æ–±—è–∑–∞–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Ä–æ–∫–∏ —Å–ª–æ–≤–µ–Ω—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ.</p>',
    ],
    'order' => 3,
]);

// Help CTA block
MaterialBlock::create([
    'material_id' => $material->id,
    'type' => 'help_cta',
    'content' => [
        'text' => '<p>–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</p>',
        'link' => '/contact',
    ],
    'order' => 4,
]);
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞

–í `routes/web.php`:

```php
use App\Http\Controllers\MaterialController;

Route::get('/materials/{slug}', [MaterialController::class, 'show'])
    ->name('materials.show');
```

## –°–≤—è–∑—å —Å —É—Å–ª—É–≥–æ–π

### –û–±–Ω–æ–≤–∏—Ç—å ServiceController

```php
// –í –º–µ—Ç–æ–¥–µ showContent()
$service = Service::with(['content', 'material'])->find($id);

if ($service->material) {
    return redirect()->route('materials.show', $service->material->slug);
}

// –ò–Ω–∞—á–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ä—ã–π content
return view('pages.services.content', compact('service'));
```

### –ò–ª–∏ –≤ ServiceResource

–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª" –¥–ª—è —É—Å–ª—É–≥–∏.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –í –∞–¥–º–∏–Ω–∫–µ

- –°–æ–∑–¥–∞–π—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª
- –î–æ–±–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–ª–æ–∫–æ–≤
- –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—è–¥–æ–∫ drag & drop
- –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –æ–ø—É–±–ª–∏–∫—É–π—Ç–µ

### 2. –ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:
```
http://localhost/materials/{slug}
```

–î–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –±–ª–æ–∫–∞–º–∏ –≤ –Ω—É–∂–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

### –ë–ª–æ–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç–∞—Ç—É—Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞ = "draft"
**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ "published"

**–ü—Ä–æ–±–ª–µ–º–∞:** is_active = false –¥–ª—è –±–ª–æ–∫–∞
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–µ is_active –≤ —Ç–∞–±–ª–∏—Ü–µ

### –û—à–∏–±–∫–∞ 404

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–∞—Ä—à—Ä—É—Ç –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ Route –≤ web.php

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª –Ω–∞–∑–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
```
resources/views/components/material-blocks/{type}.blade.php
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –≤ –∞–¥–º–∏–Ω–∫–µ
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
3. ‚úÖ –°–≤—è–∂–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª —Å —É—Å–ª—É–≥–æ–π
4. ‚úÖ –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –¥–ª—è Downloads/Examples –±–ª–æ–∫–æ–≤
5. ‚¨ú –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤
6. ‚¨ú –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–∞ (–ø–æ —Ç–æ–∫–µ–Ω—É)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –±–ª–æ–∫–∞

–°–º. —Ä–∞–∑–¥–µ–ª "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –±–ª–æ–∫–∞" –≤ `MATERIAL_BLOCKS_GUIDE.md`

### –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å ServiceContent, –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏.

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ eager loading:

```php
$material = Material::with('activeBlocks')->find($id);
```

---

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! üöÄ
